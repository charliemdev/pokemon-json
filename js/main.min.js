function ajax(e,t){fetch(e).then(function(e){return e.json()}).then(function(e){t(e)})}let listDiv,detailsDiv,nameEl,numEl,heightEl,weightEl,abilityEl,speciesEl,imageEl,nextEvoEl,typeEl,weaknessEl;function createHandler(e){return function(){nameEl.textContent=e.name,imageEl.src=e.image,numEl.textContent=e.num,heightEl.textContent=e.height,weightEl.textContent=e.weight,abilityEl.textContent=e.ability,speciesEl.textContent=e.species,nextEvoEl.textContent=e.next_evolution,weaknessEl=weaknessList(e),typeEl=typeList(e),listDiv.classList.add("hide"),detailsDiv.classList.remove("hide"),history.pushState(e,null,e.id)}}function populateList(e){const o=document.createDocumentFragment();e.forEach(function(e){const t=document.createElement("div");t.className="pokemon mb-4 shadow-sm rounded";const n=document.createElement("h2");n.className="pokemon-name",n.textContent=e.name;const i=document.createElement("img");i.className="pokemon-image",i.src=e.image,t.addEventListener("click",createHandler(e),!1),t.appendChild(n),t.appendChild(i),o.appendChild(t)});const t=document.getElementById("pokemon-list");t.appendChild(o)}function typeList(e){const n=document.createDocumentFragment();e.type.forEach(function(e){const t=document.createElement("p");t.className="col type",t.textContent=e,n.appendChild(t)});const t=document.getElementById("p-type");t.appendChild(n)}function weaknessList(e){const n=document.createDocumentFragment();e.weaknesses.forEach(function(e){const t=document.createElement("p");t.className="col weakness",t.textContent=e,n.appendChild(t)});const t=document.getElementById("p-weakness");t.appendChild(n)}function goBack(){listDiv.classList.remove("hide"),detailsDiv.classList.add("hide"),history.pushState(null,null,"./");let e=document.getElementById("p-type");for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.getElementById("p-weakness");for(;t.firstChild;)t.removeChild(t.firstChild)}function doHistory(e){e.state?(e=e.state,nameEl.textContent=e.name,imageEl.src=e.image,numEl.textContent=e.num,heightEl.textContent=e.height,weightEl.textContent=e.weight,abilityEl.textContent=e.ability,speciesEl.textContent=e.species,nextEvoEl.textContent=e.next_evolution,listDiv.classList.add("hide"),detailsDiv.classList.remove("hide")):(detailsDiv.classList.add("hide"),listDiv.classList.remove("hide"))}function init(){listDiv=document.querySelector("#pokemon-list"),detailsDiv=document.querySelector("#pokemon-details"),nameEl=document.querySelector("#p-title"),imageEl=document.querySelector("#p-image"),numEl=document.querySelector("#p-num"),heightEl=document.querySelector("#p-height"),weightEl=document.querySelector("#p-weight"),abilityEl=document.querySelector("#p-ability"),speciesEl=document.querySelector("#p-species"),nextEvoEl=document.querySelector("#p-evolution"),weaknessEl=document.querySelector("#p-weakness"),typeEl=document.querySelector("#p-type"),backBtn=document.querySelector("#backBtn"),backBtn.addEventListener("click",goBack,!1),detailsDiv.classList.add("hide"),window.addEventListener("popstate",doHistory,!1),ajax("./data/pokemon.min.json",populateList)}init();